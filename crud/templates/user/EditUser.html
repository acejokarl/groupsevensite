{% extends 'layout/base.html' %}

{% block 'title' %} Edit User {% endblock 'title' %}

{% block 'content' %}

{% include 'include/Sidebar.html' %}
{% include 'include/ToastMessage.html' %}

<div class="p-4 sm:ml-64 mt-16 md:mt-14 bg-[#f5f1e6] dark:bg-[#3b3a20] min-h-screen">
  <form action="/user/edit/{{ user.user_id }}" method="post" class="max-w-4xl mx-auto bg-[#e4dca8] dark:bg-[#5a5720] p-8 rounded-lg shadow-lg border border-[#b5a76c]">
    {% csrf_token %}
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
      
      <div>
        <label for="full_name" class="block mb-1 font-semibold text-[#6b5e2b] dark:text-[#d6cca3]">Full Name</label>
        <input type="text" id="full_name" name="full_name" value="{{ user.full_name }}" required
          class="w-full px-3 py-2 rounded-md border-2 border-[#b5a76c] dark:border-[#6b5e2b] bg-[#f5f1e6] dark:bg-[#3b3a20] text-[#3b3a20] dark:text-[#d6cca3] 
                 focus:outline-none focus:ring-2 focus:ring-[#b5a76c] focus:border-[#6b5e2b]" />
      </div>
      
      <div>
        <label for="gender" class="block mb-1 font-semibold text-[#6b5e2b] dark:text-[#d6cca3]">Gender</label>
        <select name="gender" id="gender" required
          class="w-full p-2.5 rounded-md border-2 border-[#b5a76c] dark:border-[#6b5e2b] bg-[#f5f1e6] dark:bg-[#3b3a20] text-[#3b3a20] dark:text-[#d6cca3]
                 focus:outline-none focus:ring-2 focus:ring-[#b5a76c] focus:border-[#6b5e2b]">
          {% for g in gender %}
            <option value="{{ g.gender_id }}" {% if g.gender_id == user.gender.gender_id %}selected{% endif %}>{{ g.gender }}</option>
          {% endfor %}
        </select>
      </div>

      <div>
        <label for="birth_date" class="block mb-1 font-semibold text-[#6b5e2b] dark:text-[#d6cca3]">Birth Date</label>
        <input type="date" id="birth_date" name="birth_date" value="{{ user.birth_date|date:'Y-m-d' }}" required
          class="w-full px-3 py-2 rounded-md border-2 border-[#b5a76c] dark:border-[#6b5e2b] bg-[#f5f1e6] dark:bg-[#3b3a20] text-[#3b3a20] dark:text-[#d6cca3]
                 focus:outline-none focus:ring-2 focus:ring-[#b5a76c] focus:border-[#6b5e2b]" />
      </div>

      <div>
        <label for="email" class="block mb-1 font-semibold text-[#6b5e2b] dark:text-[#d6cca3]">Email</label>
        <input type="email" id="email" name="email" value="{{ user.email }}"
          class="w-full px-3 py-2 rounded-md border-2 border-[#b5a76c] dark:border-[#6b5e2b] bg-[#f5f1e6] dark:bg-[#3b3a20] text-[#3b3a20] dark:text-[#d6cca3]
                 focus:outline-none focus:ring-2 focus:ring-[#b5a76c] focus:border-[#6b5e2b]" />
      </div>

      <div>
        <label for="address" class="block mb-1 font-semibold text-[#6b5e2b] dark:text-[#d6cca3]">Address</label>
        <input type="text" id="address" name="address" value="{{ user.address }}" required
          class="w-full px-3 py-2 rounded-md border-2 border-[#b5a76c] dark:border-[#6b5e2b] bg-[#f5f1e6] dark:bg-[#3b3a20] text-[#3b3a20] dark:text-[#d6cca3]
                 focus:outline-none focus:ring-2 focus:ring-[#b5a76c] focus:border-[#6b5e2b]" />
      </div>

      <div>
        <label for="username" class="block mb-1 font-semibold text-[#6b5e2b] dark:text-[#d6cca3]">Username</label>
        <input type="text" id="username" name="username" value="{{ user.username }}" required
          class="w-full px-3 py-2 rounded-md border-2 border-[#b5a76c] dark:border-[#6b5e2b] bg-[#f5f1e6] dark:bg-[#3b3a20] text-[#3b3a20] dark:text-[#d6cca3]
                 focus:outline-none focus:ring-2 focus:ring-[#b5a76c] focus:border-[#6b5e2b]" />
      </div>

      <div>
        <label for="contact_number" class="block mb-1 font-semibold text-[#6b5e2b] dark:text-[#d6cca3]">Contact Number</label>
        <input type="text" id="contact_number" name="contact_number" value="{{ user.contact_number }}" required
          class="w-full px-3 py-2 rounded-md border-2 border-[#b5a76c] dark:border-[#6b5e2b] bg-[#f5f1e6] dark:bg-[#3b3a20] text-[#3b3a20] dark:text-[#d6cca3]
                 focus:outline-none focus:ring-2 focus:ring-[#b5a76c] focus:border-[#6b5e2b]" />
      </div>

    </div>

    <div class="flex justify-end space-x-3">
      <a href="/user/list" 
         class="px-4 py-2 bg-white text-[#6b5e2b] font-semibold rounded-md shadow hover:bg-[#e4dca8] focus:outline-none focus:ring-2 focus:ring-[#b5a76c]">
        Back
      </a>
      <button type="submit" 
              class="px-5 py-2 bg-[#b5a76c] hover:bg-[#d6cca3] text-[#3b3a20] font-semibold rounded-md shadow focus:outline-none focus:ring-2 focus:ring-[#b5a76c]">
        Update User
      </button>
    </div>
  </form>
</div>

{% endblock 'content' %}
